# Cloud_N
# Лабораторная работа: Развёртывание статического сайта на Amazon EC2

## Описание лабораторной работы
В данной лабораторной работе выполняется развёртывание статического веб-сайта на виртуальной машине AWS EC2 с использованием веб-сервера Nginx. Работа включает создание инстанса, настройку безопасности, подключение по SSH и загрузку HTML-файлов на сервер.

---

## Постановка задачи
Создать и настроить EC2 инстанс с Amazon Linux 2023, установить Nginx и разместить на сервере статические HTML-страницы:  
- `index.html` — главная страница сайта.  
- `about.html` — страница "О нас".  
- `contact.html` — страница "Контакты".  

Проверить доступность сайта через публичный IP инстанса.

---

## Цель и основные этапы работы
**Цель работы:**  
Научиться запускать виртуальные машины на AWS, настраивать веб-сервер Nginx и развёртывать статический сайт.

**Основные этапы работы:**
1. Создание и запуск EC2 инстанса.
2. Настройка Security Group для SSH и HTTP.
3. Подключение к инстансу по SSH.
4. Установка и запуск веб-сервера Nginx.
5. Перенос HTML-файлов на сервер.
6. Проверка работы сайта в браузере.
7. Настройка прав доступа к файлам.
8. Контроль и мониторинг состояния сервера.

---

## Практическая часть (расширенная)

### Шаг 1. Создание и запуск EC2 инстанса
1. Перейти в AWS Management Console → EC2 → Instances → Launch Instances.
2. Задать имя: `webserver`.
3. Выбрать AMI: Amazon Linux 2023.
4. Тип инстанса: `t3.micro`.
5. Создать новый ключ: `malcolmmarvellous-keypair.pem` и скачать его.
6. Создать Security Group `webserver-sg`:
   - Входящий HTTP с любого IP (порт 80).  
   - Входящий SSH только с вашего IP (порт 22).
7. Настройки сети и хранения оставить по умолчанию.
8. В разделе **Advanced details → User Data** вставлен скрипт:
```
#!/bin/bash
dnf -y update
dnf -y install htop
dnf -y install nginx
systemctl enable nginx
systemctl start nginx
```
Пояснение: User Data — это скрипт, который автоматически выполняется при первом запуске инстанса. В данном случае он обновляет систему, устанавливает утилиту htop и веб-сервер Nginx, а также настраивает его автозапуск.

<img width="1524" height="689" alt="image" src="https://github.com/user-attachments/assets/63eac4ea-3974-4657-9878-04b06f74cc9b" />

### Шаг 2. Мониторинг и статус инстанса
Вкладка Status checks:

System reachability check: проверяет доступность оборудования AWS.
Instance reachability check: проверяет доступность ОС на инстансе.
Обе проверки прошли успешно: 2/2 checks passed.

Вкладка Monitoring: базовый мониторинг (каждые 5 минут).

Контрольный вопрос:
Когда важен детализированный мониторинг?
Если требуется высокая точность и быстрый отклик на изменения производительности (например, для серверов с большим трафиком или критичных приложений).

<img width="1527" height="465" alt="image" src="https://github.com/user-attachments/assets/b7438dcb-3cd0-4825-9fcf-5224715a5779" />

### Шаг 3. Подключение к EC2 по SSH
На локальной машине:

```
cd C:\Users\mihai\Desktop\Cloud_N
ssh -i "malcolmmarvellous-keypair.pem" ec2-user@51.44.22.51
```
Пояснение:
-i указывает приватный ключ для авторизации.
ec2-user — стандартный пользователь Amazon Linux.
Пароль не используется для безопасности.

<img width="1477" height="377" alt="image" src="https://github.com/user-attachments/assets/932827e1-97ce-4ed0-b80f-4e627cb5f8ef" />

### Шаг 4. Проверка состояния Nginx
```
systemctl status nginx
```
Проверка показывает, что сервис активен и работает.
Для доступа через браузер используется публичный IP инстанса: http://51.44.22.51.

<img width="1806" height="530" alt="image" src="https://github.com/user-attachments/assets/984f74f3-99d1-46da-ad7d-84ae96e43ef5" />

### Шаг 5. Подготовка и передача файлов на сервер
На локальной машине:
```
scp -i "malcolmmarvellous-keypair.pem" C:\Users\mihai\Desktop\Cloud_N\lab02\*.html ec2-user@51.44.22.51:
```

Команда scp копирует файлы на сервер по SSH.
Файлы попадают в домашнюю директорию пользователя (/home/ec2-user).

### Шаг 6. Перемещение файлов в директорию веб-сервера
На сервере:
```
sudo mv ~/index.html ~/about.html ~/contact.html /usr/share/nginx/html/
sudo chown root:root /usr/share/nginx/html/*.html
sudo chmod 644 /usr/share/nginx/html/*.html
```
Пояснение:

sudo mv — перемещает файлы в системную директорию веб-сервера.
chown root:root — меняет владельца файлов на root.
chmod 644 — устанавливает права доступа: чтение для всех, запись только для владельца.

<img width="1919" height="349" alt="image" src="https://github.com/user-attachments/assets/203315a2-4f8a-4798-98b1-da892726148f" />

### Шаг 7. Проверка сайта

В браузере открывается http://51.44.22.51.
Доступны страницы: index.html, about.html, contact.html.

<img width="1919" height="532" alt="image" src="https://github.com/user-attachments/assets/abd2409a-c001-4d18-ba65-2b0a1ded93e4" />

### Шаг 8. Дополнительные настройки и проверки
Можно проверить логи Nginx:

```
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log
```
sudo systemctl enable nginx
```
```

### Шаг 9. Выводы
EC2 инстанс успешно запущен и доступен.
Веб-сервер Nginx установлен, файлы размещены в правильной директории.
Сайт работает и доступен через публичный IP.
Все контрольные вопросы рассмотрены в контексте выполнения шагов.


### Дополнительные аспекты
Можно автоматизировать установку и копирование файлов через User Data при запуске инстанса.
Для повышения безопасности рекомендуется использовать HTTPS (Let's Encrypt).
Возможна настройка мониторинга через CloudWatch.
Список использованных источников
Документация AWS EC2

Документация Nginx
scp — OpenSSH Manual
Лабораторная работа по основам веб-разработки (HTML-файлы)

### Контрольные вопросы (включены в практическую часть)
Почему в AWS нельзя использовать пароль для SSH?
Что делает команда scp?

Для чего используется Nginx?
Nginx — это веб-сервер и обратный прокси, который обрабатывает HTTP-запросы и отдаёт статические или динамические страницы.

Что такое User Data?
Скрипт, выполняемый при первом запуске инстанса, позволяет автоматизировать настройку сервера.
